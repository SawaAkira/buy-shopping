(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-136de377"],{"29b8":function(t,e,s){"use strict";s("485e")},"485e":function(t,e,s){},"900b":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"order",staticClass:"orderPage"},[s("div",{staticClass:"orderBox"},[s("div",{staticClass:"order_bg"}),s("div",[t.isShow?s("div",{staticClass:"orderHeader"},[s("h3",[t._v("订单信息")]),s("p",[t._v(" 累计订单："+t._s(t.userInfo.order_count)+"    总消费：￥"+t._s(t.userInfo.sum_price)+" ")])]):t._e(),t.isShow?s("div",{staticClass:"orderNav"},[s("router-link",{attrs:{to:"/user/order/0","active-class":"active"}},[s("div",{staticClass:"name"},[t._v("待付款")]),s("div",{staticClass:"num"},[t._v(t._s(t.userInfo.unpaid_count))])]),s("router-link",{attrs:{to:"/user/order/1","active-class":"active"}},[s("div",{staticClass:"name"},[t._v("待发货")]),s("div",{staticClass:"num"},[t._v(t._s(t.userInfo.unshipped_count))])]),s("router-link",{attrs:{to:"/user/order/2","active-class":"active"}},[s("div",{staticClass:"name"},[t._v("待收货")]),s("div",{staticClass:"num"},[t._v(t._s(t.userInfo.received_count))])]),s("router-link",{attrs:{to:"/user/order/3","active-class":"active"}},[s("div",{staticClass:"name"},[t._v("待评价")]),s("div",{staticClass:"num"},[t._v(t._s(t.userInfo.evaluated_count))])]),s("router-link",{attrs:{to:"/user/order/5","active-class":"active"}},[s("div",{staticClass:"name"},[t._v("已完成")]),s("div",{staticClass:"num"},[t._v(t._s(t.userInfo.complete_count))])])],1):t._e(),s("router-view"),t.$store.state.isOrderListShow&&t.ismore?s("div",{staticClass:"moreLoading",domProps:{innerHTML:t._s(t.moreText)}}):t._e(),t.$store.state.isOrderListShow?t._e():s("div",{staticClass:"loading"})],1)]),t.defaultTip?s("div",{staticClass:"defaultTip"}):t._e()])},r=[],a={data:function(){return{userInfo:"",orderList:"",defaultTip:!1,isShow:!1,ismore:!1,moreText:"<span></span>正在加载，不要急~"}},created:function(){this.init()},methods:{init:function(){this.getInfo()},getInfo:function(){var t=this,e=this.$store.state.token;axios({method:"GET",url:"http://47.115.51.185/api/order/data",headers:{"Authori-zation":"Bearer "+e}}).then((function(e){200==e.data.status&&(t.userInfo=e.data.data,t.isShow=!0)}))},handleScroll:function(){var t=this;this.$nextTick((function(){if(t.$refs.order){var e=t.$refs.order.clientHeight,s=t.$refs.order.scrollTop,i=t.$refs.order.scrollHeight;setTimeout((function(){if(e+s==i){var r=t.$store.state.detail.page;t.$store.state.detail.getPage&&(r++,t.$store.dispatch("detail/setPageAsync",r))}}),300)}}))}},mounted:function(){window.addEventListener("scroll",this.handleScroll,!0)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},watch:{"$store.state.personal.orderList":function(t,e){this.$store.state.personal.orderList.length<=20*this.$store.state.detail.times&&(this.$store.dispatch("setOrderListShowAsync",!0),this.$store.state.personal.orderList.length?(this.ismore=!0,this.defaultTip=!1,this.$store.state.personal.orderList.length<20*this.$store.state.detail.times?(this.$store.dispatch("detail/setGetPageAsync",!1),this.moreText="我是有底线的！！！"):(this.$store.dispatch("detail/setGetPageAsync",!0),this.moreText="<span></span>正在加载，不要急~")):(this.ismore=!1,this.defaultTip=!0))},"$route.path":function(){this.defaultTip=!1}},beforeRouteEnter:function(t,e,s){document.title=t.meta.title,s()}},o=a,n=(s("29b8"),s("2877")),d=Object(n["a"])(o,i,r,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-136de377.b2bd9b3b.js.map